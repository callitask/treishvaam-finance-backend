# .ebextensions/01_port.config
# This configuration tells Elastic Beanstalk's internal proxy (like Nginx)
# where your application is listening, explicitly for port 5000.
option_settings:
  # This sets the APPLICATION_PORT environment variable within the EB instance,
  # which the Elastic Beanstalk platform uses to configure its internal proxy
  # (e.g., Nginx) to forward incoming web requests to this port.
  aws:elasticbeanstalk:application:environment:
    APPLICATION_PORT: 5000 # Your Spring Boot app is starting on port 5000

  # This section is specifically for the Tomcat container, if applicable.
  # It confirms that Tomcat itself should also listen on port 5000,
  # overriding its default 8080 if necessary.
  aws:elasticbeanstalk:container:tomcat:
    Port: 5000 # Ensures Tomcat is listening on this port for WAR deployments